<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Utilities · PETSc.jl</title><meta name="title" content="Utilities · PETSc.jl"/><meta property="og:title" content="Utilities · PETSc.jl"/><meta property="twitter:title" content="Utilities · PETSc.jl"/><meta name="description" content="Documentation for PETSc.jl."/><meta property="og:description" content="Documentation for PETSc.jl."/><meta property="twitter:description" content="Documentation for PETSc.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PETSc.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><span class="tocitem">High-level interface</span><ul><li><a class="tocitem" href="../vec/">Vec</a></li><li><a class="tocitem" href="../mat/">Mat</a></li><li><a class="tocitem" href="../dm/">DM</a></li><li><a class="tocitem" href="../dmda/">DMDA</a></li><li><a class="tocitem" href="../dmstag/">DMStag</a></li><li><a class="tocitem" href="../ksp/">KSP</a></li><li><a class="tocitem" href="../snes/">SNES</a></li></ul></li><li><span class="tocitem">Low-level interface (LibPETSc)</span><ul><li><a class="tocitem" href="../lowlevel_intro/">Introduction</a></li><li><a class="tocitem" href="../vec_lowlevel/">Vec</a></li><li><a class="tocitem" href="../mat_lowlevel/">Mat</a></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">DM</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../dm_lowlevel/">DM</a></li><li><a class="tocitem" href="../dmda_lowlevel/">DMDA</a></li><li><a class="tocitem" href="../dmplex_lowlevel/">DMPlex</a></li><li><a class="tocitem" href="../dmstag_lowlevel/">DMStag</a></li><li><a class="tocitem" href="../dmswarm_lowlevel/">DMSwarm</a></li><li><a class="tocitem" href="../dmforest_lowlevel/">DMForest</a></li><li><a class="tocitem" href="../dmnetwork_lowlevel/">DMNetwork</a></li><li><a class="tocitem" href="../dmshell_lowlevel/">DMShell and others</a></li></ul></li><li><a class="tocitem" href="../ksp_lowlevel/">KSP</a></li><li><a class="tocitem" href="../snes_lowlevel/">SNES</a></li><li><a class="tocitem" href="../ts_lowlevel/">TS (Time Stepping)</a></li><li><a class="tocitem" href="../tao_lowlevel/">Tao (Optimization)</a></li><li><a class="tocitem" href="../is_lowlevel/">IS (Index Sets)</a></li><li><a class="tocitem" href="../petscviewer_lowlevel/">PetscViewer (I/O)</a></li><li><a class="tocitem" href="../petscsection_lowlevel/">PetscSection (DOF Layout)</a></li><li><a class="tocitem" href="../petscsf_lowlevel/">PetscSF (Communication)</a></li><li><a class="tocitem" href="../ao_lowlevel/">AO (Application Ordering)</a></li></ul></li><li class="is-active"><a class="tocitem" href>Utilities</a><ul class="internal"><li><a class="tocitem" href="#Initialization"><span>Initialization</span></a></li><li><a class="tocitem" href="#Options"><span>Options</span></a></li><li><a class="tocitem" href="#System-Utilities"><span>System Utilities</span></a></li><li><a class="tocitem" href="#Code-Auditing"><span>Code Auditing</span></a></li></ul></li><li><a class="tocitem" href="../FAQ/">FAQ</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../funding/">Funding</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Utilities</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Utilities</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaParallel/PETSc.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaParallel/PETSc.jl/blob/main/docs/src/man/utilities.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h1><p>This page documents utility functions for initialization, options handling, system information, and code auditing.</p><h2 id="Initialization"><a class="docs-heading-anchor" href="#Initialization">Initialization</a><a id="Initialization-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization" title="Permalink"></a></h2><p>The initialization functions manage PETSc&#39;s lifecycle, including MPI initialization and cleanup.</p><article><details class="docstring" open="true"><summary id="PETSc.check_petsc_wrappers_version"><a class="docstring-binding" href="#PETSc.check_petsc_wrappers_version"><code>PETSc.check_petsc_wrappers_version</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">check_petsc_wrappers_version(petsclib=nothing)</code></pre><p>Load the generated <code>petsc_wrappers_version.jl</code> (if present) and compare the declared wrapper version <code>PETSC_WRAPPERS_VERSION</code> with the installed PETSc version obtained from <code>LibPETSc.PetscGetVersionNumber</code> for <code>petsclib</code>.</p><p>Arguments</p><ul><li><code>petsclib</code>: optional <code>PetscLibType</code> or path string. If <code>nothing</code>, the first available <code>PETSc.petsclibs[1]</code> is used.</li></ul><p>Returns a named tuple: <code>(:wrappers_version, :installed_version, :match)</code>. <code>match</code> is <code>true</code> when versions are equal, <code>false</code> when they differ, and <code>nothing</code> if either side could not be determined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L248-L262">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.finalize-Tuple{}"><a class="docstring-binding" href="#PETSc.finalize-Tuple{}"><code>PETSc.finalize</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>finalize(petsclib)</p><p>Finalize the <code>petsclib</code>, if no <code>petsclib</code> is given then all <code>PETSc.petsclibs</code> will be finalized.</p><p><strong>External Links</strong></p><ul><li>PETSc Manual: <a href="https://petsc.org/release/docs/manualpages/Sys/PetscFinalize.html"><code>Sys/PetscFinalize</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L87-L95">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.finalized-Tuple{Any}"><a class="docstring-binding" href="#PETSc.finalized-Tuple{Any}"><code>PETSc.finalized</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>finalized(petsclib)</p><p>Check if <code>petsclib</code> is finalized</p><p><strong>External Links</strong></p><ul><li>PETSc Manual: <a href="https://petsc.org/release/docs/manualpages/Sys/PetscFinalized.html"><code>Sys/PetscFinalized</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L109-L116">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.initialize-Tuple{}"><a class="docstring-binding" href="#PETSc.initialize-Tuple{}"><code>PETSc.initialize</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">initialize([petsclib]; log_view = false, options = String[])</code></pre><p>Initialize the <code>petsclib</code>. If no <code>petsclib</code> is given, all <code>PETSc.petsclibs</code> will be initialized.</p><p>Additionally:</p><ul><li><p>This will initialize MPI if it has not already been initialized.</p></li><li><p>It will disable the PETSc signal handler (via <a href="https://petsc.org/release/docs/manualpages/Sys/PetscPopSignalHandler.html"><code>Sys/PetscPopSignalHandler</code></a></p></li><li><p>Add an <a href="https://docs.julialang.org/en/v1/base/base/#Base.atexit"><code>atexit</code></a> hook to call <a href="#PETSc.finalize-Tuple{}"><code>PETSc.finalize</code></a>.</p></li></ul><p><strong>Arguments</strong></p><ul><li><code>log_view::Bool = false</code>: Enable PETSc&#39;s <code>-log_view</code> performance logging. When enabled, PETSc will output performance statistics at finalization.</li><li><code>options::Vector{String} = String[]</code>: Additional PETSc command-line options. These are passed via the <code>PETSC_OPTIONS</code> environment variable.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Basic initialization
PETSc.initialize(petsclib)

# Enable performance logging to stdout
PETSc.initialize(petsclib; log_view = true)

# Write log to a file
PETSc.initialize(petsclib; log_view = true, options = [&quot;:logfile.txt&quot;])

# Enable memory logging
PETSc.initialize(petsclib; log_view = true, options = [&quot;:logfile.txt&quot;, &quot;-log_view_memory&quot;])

# Pass custom PETSc options without logging
PETSc.initialize(petsclib; options = [&quot;-malloc_debug&quot;, &quot;-on_error_abort&quot;])</code></pre><p><strong>External Links</strong></p><ul><li>PETSc Manual: <a href="https://petsc.org/release/docs/manualpages/Sys/PetscInitializeNoArguments.html"><code>Sys/PetscInitializeNoArguments</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L14-L53">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.initialized-Tuple{Any}"><a class="docstring-binding" href="#PETSc.initialized-Tuple{Any}"><code>PETSc.initialized</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>initialized(petsclib)</p><p>Check if <code>petsclib</code> is initialized</p><p><strong>External Links</strong></p><ul><li>PETSc Manual: <a href="https://petsc.org/release/docs/manualpages/Sys/PetscInitialized.html"><code>Sys/PetscInitialized</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L1-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.inttype-Union{Tuple{PETSc.LibPETSc.PetscLibType{ST, IT}}, Tuple{IT}, Tuple{ST}} where {ST, IT}"><a class="docstring-binding" href="#PETSc.inttype-Union{Tuple{PETSc.LibPETSc.PetscLibType{ST, IT}}, Tuple{IT}, Tuple{ST}} where {ST, IT}"><code>PETSc.inttype</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">inttype(petsclib::PetscLibType)</code></pre><p>return the int type for the associated <code>petsclib</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L183-L187">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.scalartype-Union{Tuple{PETSc.LibPETSc.PetscLibType{ST}}, Tuple{ST}} where ST"><a class="docstring-binding" href="#PETSc.scalartype-Union{Tuple{PETSc.LibPETSc.PetscLibType{ST}}, Tuple{ST}} where ST"><code>PETSc.scalartype</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">scalartype(petsclib::PetscLibType)</code></pre><p>return the scalar type for the associated <code>petsclib</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L172-L176">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.set_petsclib-Tuple{String}"><a class="docstring-binding" href="#PETSc.set_petsclib-Tuple{String}"><code>PETSc.set_petsclib</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_petsclib(library_path::String; PetscScalar=Float64, PetscInt=Int64)</code></pre><p>Create a custom PETSc library instance from a user-specified shared library path.</p><p>This function allows you to use a custom-compiled PETSc library instead of the  pre-built libraries provided by PETSc_jll. The custom library must be:</p><ul><li>Compiled as a shared/dynamic library (not static)</li><li>Built with the correct scalar type (real vs complex) and integer size</li><li>Compatible with the same MPI installation that MPI.jl is using</li></ul><p><strong>Arguments</strong></p><ul><li><code>library_path::String</code>: Path to the custom PETSc shared library (e.g., &quot;/path/to/libpetsc.so&quot;)</li><li><code>PetscScalar::Type</code>: Scalar type used by the library. Options: <code>Float64</code>, <code>Float32</code>,  <code>Complex{Float64}</code>, or <code>Complex{Float32}</code>. Default: <code>Float64</code></li><li><code>PetscInt::Type</code>: Integer type used by the library. Options: <code>Int32</code> or <code>Int64</code>.  Default: <code>Int64</code></li></ul><p><strong>Returns</strong></p><ul><li>A <code>PetscLibType</code> instance that can be used with <code>initialize()</code>, <code>finalize()</code>, and  all other PETSc.jl functions</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using PETSc

# For a custom double-precision real PETSc library with 64-bit indices
petsclib = PETSc.set_petsclib(&quot;/path/to/custom/libpetsc.so&quot;; 
                             PetscScalar=Float64, PetscInt=Int64)

# For a single-precision complex library with 32-bit indices  
petsclib = PETSc.set_petsclib(&quot;/opt/petsc/lib/libpetsc.so&quot;; 
                             PetscScalar=Complex{Float32}, PetscInt=Int32)

# Initialize and use the custom library
PETSc.initialize(petsclib)
# ... your code ...
PETSc.finalize(petsclib)</code></pre><p><strong>See Also</strong></p><ul><li><a href="#PETSc.initialize-Tuple{}"><code>initialize</code></a>: Initialize a PETSc library</li><li><a href="#PETSc.finalize-Tuple{}"><code>finalize</code></a>: Finalize a PETSc library</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/init.jl#L193-L236">source</a></section></details></article><h2 id="Options"><a class="docs-heading-anchor" href="#Options">Options</a><a id="Options-1"></a><a class="docs-heading-anchor-permalink" href="#Options" title="Permalink"></a></h2><p>PETSc uses an options database to configure solvers and other objects at runtime. These functions provide access to the options system.</p><article><details class="docstring" open="true"><summary id="PETSc.Options-Tuple{PETSc.LibPETSc.PetscLibType}"><a class="docstring-binding" href="#PETSc.Options-Tuple{PETSc.LibPETSc.PetscLibType}"><code>PETSc.Options</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Options(petsclib; kwargs...)</code></pre><p>Create a PETSc options database for the given <code>petsclib</code>.</p><p>Keyword arguments are converted to PETSc options:</p><ul><li>Options with value <code>nothing</code> or <code>true</code> are set without a value (flags)</li><li>Options with value <code>false</code> are not set</li><li>Other values are converted to strings</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PETSc

julia&gt; petsclib = PETSc.petsclibs[1];

julia&gt; PETSc.initialize(petsclib)

julia&gt; opt = PETSc.Options(
                         petsclib,
                         ksp_monitor = nothing,
                         ksp_view = true,
                         pc_type = &quot;mg&quot;,
                         pc_mg_levels = 1,
                         false_opt = false,
                     )
#PETSc Option Table entries:
-ksp_monitor
-ksp_view
-pc_mg_levels 1
-pc_type mg
#End of PETSc Option Table entries


julia&gt; opt[&quot;ksp_monitor&quot;]
&quot;&quot;

julia&gt; opt[&quot;pc_type&quot;]
&quot;mg&quot;

julia&gt; opt[&quot;pc_type&quot;] = &quot;ilu&quot;
&quot;ilu&quot;

julia&gt; opt[&quot;pc_type&quot;]
&quot;ilu&quot;

julia&gt; opt[&quot;false_opt&quot;]
ERROR: KeyError: key &quot;bad_key&quot; not found

julia&gt; opt[&quot;bad_key&quot;]
ERROR: KeyError: key &quot;bad_key&quot; not found</code></pre><p><strong>External Links</strong></p><ul><li>PETSc Manual: <a href="https://petsc.org/release/docs/manualpages/Sys/PetscOptionsCreate.html"><code>Sys/PetscOptionsCreate</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/options.jl#L23-L78">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.parse_options-Tuple{Vector{String}}"><a class="docstring-binding" href="#PETSc.parse_options-Tuple{Vector{String}}"><code>PETSc.parse_options</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">parse_options(args::Vector{String})</code></pre><p>Parse the <code>args</code> vector into a <code>NamedTuple</code> that can be used as the options for the PETSc solvers.</p><pre><code class="language-sh hljs">julia --project file.jl -ksp_monitor -pc_type mg -ksp_view -da_refine=1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/options.jl#L123-L132">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PETSc.typedget-Union{Tuple{T}, Tuple{NamedTuple, Symbol, T}} where T"><a class="docstring-binding" href="#PETSc.typedget-Union{Tuple{T}, Tuple{NamedTuple, Symbol, T}} where T"><code>PETSc.typedget</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">typedget(opt::NamedTuple, key::Symbol, default::T)</code></pre><p>Parse <code>opt</code> similar to <code>Base.get</code> but ensures that the returned value is the same type as the default value. When <code>T &lt;: NTuple</code> keys that result in a single value will be filled into an <code>NTuple</code> of the same length as <code>T</code>; in the case of strings it is parsed using <code>Base.split</code> with comma delimiter</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; opt = (tup = (1, 2, 3), string_tup = &quot;1,2,3&quot;, string_int = &quot;4&quot;, int = 4)
(tup = (1, 2, 3), string_tup = &quot;1,2,3&quot;, string_int = &quot;4&quot;, int = 4)

julia&gt; typedget(opt, :int, 7)
4

julia&gt; typedget(opt, :bad_key, 7)
7

julia&gt; typedget(opt, :tup, (1, 1, 1))
(1, 2, 3)

julia&gt; typedget(opt, :string_tup, (1, 1, 1))
tokens = SubString{String}[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]
(1, 2, 3)

julia&gt; typedget(opt, :string_int, (1, 1, 1))
tokens = SubString{String}[&quot;4&quot;]
(4, 4, 4)

julia&gt; typedget(opt, :int, (1, 1, 1))
(4, 4, 4)

julia&gt; typedget(opt, :int, (1., 1., 1.))
(4.0, 4.0, 4.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/options.jl#L166-L202">source</a></section></details></article><h2 id="System-Utilities"><a class="docs-heading-anchor" href="#System-Utilities">System Utilities</a><a id="System-Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#System-Utilities" title="Permalink"></a></h2><p>General system-level utilities for working with PETSc objects.</p><article><details class="docstring" open="true"><summary id="PETSc.getcomm-Union{Tuple{Union{PETSc.LibPETSc.AbstractPetscDM{PetscLib}, PETSc.LibPETSc.AbstractPetscKSP{PetscLib}, PETSc.LibPETSc.AbstractPetscMat{PetscLib}, PETSc.LibPETSc.AbstractPetscSNES{PetscLib}, PETSc.LibPETSc.AbstractPetscVec{PetscLib}}}, Tuple{PetscLib}} where PetscLib"><a class="docstring-binding" href="#PETSc.getcomm-Union{Tuple{Union{PETSc.LibPETSc.AbstractPetscDM{PetscLib}, PETSc.LibPETSc.AbstractPetscKSP{PetscLib}, PETSc.LibPETSc.AbstractPetscMat{PetscLib}, PETSc.LibPETSc.AbstractPetscSNES{PetscLib}, PETSc.LibPETSc.AbstractPetscVec{PetscLib}}}, Tuple{PetscLib}} where PetscLib"><code>PETSc.getcomm</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">comm = function getcomm(
                        obj::Union{
                            PetscVec{PetscLib},
                            PetscMat{PetscLib},
                            PetscKSP{PetscLib},
                            #PetscSNES{PetscLib},
                            #PetscDM{PetscLib},
                        },
                    ) where {PetscLib}</code></pre><p>Gets the MPI communicator for any of the objects above                         </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/sys.jl#L3-L16">source</a></section></details></article><h2 id="Code-Auditing"><a class="docs-heading-anchor" href="#Code-Auditing">Code Auditing</a><a id="Code-Auditing-1"></a><a class="docs-heading-anchor-permalink" href="#Code-Auditing" title="Permalink"></a></h2><p>The audit utilities help identify potential memory leaks by tracking PETSc object creation and destruction.</p><article><details class="docstring" open="true"><summary id="PETSc.audit_petsc_file-Tuple{AbstractString}"><a class="docstring-binding" href="#PETSc.audit_petsc_file-Tuple{AbstractString}"><code>PETSc.audit_petsc_file</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">audit_petsc_file(path::AbstractString)</code></pre><p>Scan a PETSc.jl source file and report PETSc object creations and destroys.</p><p>This utility reads <code>path</code>, looks for common PETSc object creation patterns (<code>KSP(...)</code>, <code>SNES(...)</code>, <code>DMDA(...)</code>, <code>DMStag(...)</code>, as well as <code>VecCreate...</code>, <code>VecDuplicate...</code>, <code>Vec...WithArray(...)</code> and corresponding <code>Mat...</code> creators via either <code>PETSc.</code> or <code>LibPETSc.</code>), plus common DM/Vec/Mat allocators like <code>DMGlobalVec</code>, <code>DMLocalVec</code>, <code>DMGetCoordinateDM</code>, <code>DMStagCreateCompatibleDMStag</code>, and <code>DMCreateMatrix</code>; and for explicit <code>destroy(x)</code> calls (optionally prefixed with <code>PETSc.</code>).</p><p>It prints three sections:</p><ul><li>CREATION statements: line numbers and variables assigned to created objects</li><li>DESTROY calls: line numbers and variables destroyed</li><li>POSSIBLY UNDESTROYED objects: variables that appear in creations but have no   matching destroy call<ul><li>FINALIZE calls: presence of <code>PETSc.finalize(petsclib)</code>; suggests adding it   if missing</li></ul></li></ul><p>Notes:</p><ul><li>Heuristic only: matches common constructors and <code>LibPETSc</code> creation routines;   it does not follow control flow or scopes.</li><li>Creations without assignment cannot be cross-checked against destroys.</li><li>Objects produced via helpers (e.g., <code>similar(...)</code>) are not detected unless   they use known creation patterns.</li></ul><p>Returns <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaParallel/PETSc.jl/blob/a2e44b02f8e12eeb68917190fdc99bef8164b48e/src/audit.jl#L1-L30">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ao_lowlevel/">« AO (Application Ordering)</a><a class="docs-footer-nextpage" href="../FAQ/">FAQ »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 19 February 2026 08:24">Thursday 19 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
